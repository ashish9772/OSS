<div class="container-fluid dashboard">
    <div class="main-wrapper  mb-5">
        <div class="row">
            <div class="col-md-6">
                <div class=" card">
                    <div class="card-body">
                        <h5 class="text-center font-weight-bold">PROJECT CONFIGURATION DETAILS</h5>
                        <p-table   [value]="ossData.projectConfigs"  [scrollable]="true" scrollHeight="250px" *ngIf = "ossData.length > 0; else proConfigElse">
                            <ng-template pTemplate="header" >
                                <tr >
                                    <th>Project ID</th>
                                    <th>Project Name</th>
                                    <th>Project Start Date</th>
                                    <th>Project End Date</th>
                                </tr>
                            </ng-template>
                            <ng-template pTemplate="body" let-task let-index="rowIndex">
                                <tr>
                                    <td>{{task.projectID}}</td>
                                    <td>
                                        <a routerLink='/projectcomp' [queryParams] = "{'index': index}" fragment='{{task.projectID}}'>{{task.projectName}}</a>
                                    </td>
                                    <td>{{task.pStartDate}}</td>
                                    <td>{{task.pEndDate}}</td>
                                </tr>
                            </ng-template>
                        </p-table>
                        <ng-template #proConfigElse>
                                <h5 class="else-data-align"> No Project Configuration Data to show</h5>
                        </ng-template>
                    </div>
                </div>
            </div>
            <div class="col-md-6">
                <div class=" card">
                    <div class="card-body">
                        <h5 class="text-center font-weight-bold">BUSINESS LEADS</h5>
                        <p-table [value]="ossData.leads" [scrollable]="true" scrollHeight="250px" *ngIf = "ossData.length > 0; else bussinessLeadElse">
                            <ng-template pTemplate="header">
                                <tr>
                                    <th>CLIENT NAME</th>
                                    <th>CLIENT MAIL</th>
                                    <th>CLIENT DESCRIPTION</th>
                                    <th>NOTES</th>
                                </tr>
                            </ng-template>
                            <ng-template pTemplate="body" let-task>
                                <tr>
                                    <td>{{task.clientName}}</td>
                                    <td>{{task.clientMail}}</td>
                                    <td>{{task.clientDesignation}}</td>
                                    <td>{{task.notes}}</td>
                                </tr>
                            </ng-template>
                        </p-table>
                        <ng-template #bussinessLeadElse>
                               <h5 class="else-data-align"> No bussiness Leads in Project</h5>
                            </ng-template>
                    </div>
                </div>
            </div>
        </div>
        <div class="row mt-3">
            <div class="col-md-6">
                <div class="business-leads card">
                    <div class="card-body">
                        <h5 class="text-center font-weight-bold">REQUIRED RESOURCE</h5>
                        <p-table [value]="ossData.resources" [scrollable]="true" scrollHeight="320px" *ngIf = "ossData.length > 0; else reqResElse">
                            <ng-template pTemplate="header">
                                <tr>
                                    <th>PROJECT ID</th>
                                    <th>PROJECT NAME</th>
                                    <th>JOB DESCRIPTION</th>
                                    <th>NO. RESOURCE REQUIREMENT</th>
                                    <th>REQUIREMENT SKILL</th>
                                </tr>
                            </ng-template>
                            <ng-template pTemplate="body" let-task>
                                <tr>
                                    <td>{{task.projectId}}</td>
                                    <td>{{task.projectName}}</td>
                                    <td>{{task.jobDescription}}</td>
                                    <td>{{task.noResourceRequirement}}</td>
                                    <td>{{task.requirementSkill}}</td>
                                </tr>
                            </ng-template>
                        </p-table>
                        <ng-template #reqResElse>
                                <h5 class="else-data-align"> No Required Resource to show</h5>
                             </ng-template>
                    </div>
                </div>
            </div>
            <div class="col-md-6">
                <div class="col-md-12 card">
                    <div class="card-body">
                        <h5 class="text-center font-weight-bold">RISK COUNT</h5>
                        <p-chart type="pie" [data]="risks$ | async" *ngIf="riskStatus; else riskElse"></p-chart>
                        <ng-template #riskElse>
                                <h5 class="else-data-align"> No Risk to show</h5>
                        </ng-template>
                    </div>

                </div>
            </div>  
        </div>
        <div class="row mt-3">
            <div class="col-md-6">
                <div class="business-leads card">
                    <div class="card-body">
                        <h5 class="text-center font-weight-bold">SKILL COUNT</h5>
                        <p-chart type="pie" [data]="skillCount$ | async" *ngIf = "skillCountStatus; else skillCountElse"></p-chart>
                        <ng-template #skillCountElse>
                                <h5 class="else-data-align"> No Skill count Data to show</h5>
                        </ng-template>
                    </div>
                </div>
            </div>
            <div class="col-md-6">
                <div class="col-md-12 card">
                    <div class="card-body">
                        <h5 class="text-center font-weight-bold">DEFECTS COUNT</h5>
                        <p-chart type="pie" [data]="defectCount$ | async" *ngIf = "defectCountStatus; else defectsElse"></p-chart>
                        <ng-template #defectsElse>
                                <h5 class="else-data-align"> No Defects Data to show</h5>
                        </ng-template>
                    </div>
                </div>
            </div>
        </div>
        <div class="row mt-3">
            <div class="col-md-6">
                <div class="card">
                    <div class="card-body">
                        <h5 class="text-center font-weight-bold">HIGH PRIORITY ISSUES</h5>
                        <p-chart type="pie" [data]="highPriorityIsuue$ | async" *ngIf = "highPriorityIsuueStatus; else issuesElse"></p-chart>
                        <ng-template #issuesElse>
                                <h5 class="else-data-align"> No HighPariorityIssues to show</h5>
                        </ng-template>
                    </div>
                </div>
            </div>
            <div class="col-md-6">
                <div class="col-md-12  business-leads card">
                    <div class="card-body">
                        <h5 class="text-center font-weight-bold">TECHNICAL BLOCKER</h5>
                        <p-chart type="pie" [data]="blockersCount$ | async" *ngIf="blockersCountStatus; else blockersElse" ></p-chart>
                        <ng-template #blockersElse>
                                <h5 class="else-data-align"> No TechnicalBlockers Data data to show</h5>
                        </ng-template>
                    </div>
                </div>
            </div>
        </div>


    </div>